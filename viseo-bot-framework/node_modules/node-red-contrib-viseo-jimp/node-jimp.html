<script type="text/javascript">
    RED.nodes.registerType('jimp',{
        category: 'VISEO_MEDIA',
        color: '#3FADB5',
        defaults: { 
            name:    { value: undefined },
            pathIn:  { value: undefined },
            pathOut: { value: undefined },
            crop:    { value: undefined },
        },
        inputs:  1,
        outputs: 1,
        icon: "image.svg",
        align: "right",
        paletteLabel: 'canvas',
        label: function() { return this.name || "canvas"; }
    });
</script>

<script type="text/x-red" data-template-name="jimp">
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-input-pathIn"><i class="icon-tag"></i> Input</label>
        <input type="text" id="node-input-pathIn" placeholder="payload">
    </div>
    <div class="form-row">
        <label for="node-input-pathOut"><i class="icon-tag"></i>Output</label>
        <input type="text" id="node-input-pathOut" placeholder="">
    </div>
    <div class="form-row">
        <label for="node-input-crop"><i class="icon-tag"></i> Crop</label>
        <input type="text" id="node-input-crop" placeholder="">
    </div>
</script>

<script type="text/x-red" data-help-name="jimp">
    Each fields will look for data in properties

    <h3>input</h3>
    The Input file path

    <h3>Output</h3>
    The Output file path
    If none, the image buffer will be set to the payload

    <h3>Crop</h3>
    Property must contains x,y,width,height or left,top,width,height. String are parsed to int.

</script>